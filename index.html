<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-AI Assistant | Your Personal AI Accounts</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #f8fafc;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            width: 100%;
        }

        header {
            background: rgba(15, 23, 42, 0.9);
            border-bottom: 1px solid #334155;
            padding: 20px 0;
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: 700;
            color: #60a5fa;
        }

        .logo i {
            color: #3b82f6;
        }

        .ai-selector {
            display: flex;
            gap: 10px;
        }

        .ai-btn {
            background: #1e293b;
            border: 1px solid #334155;
            color: #cbd5e1;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .ai-btn:hover {
            background: #334155;
        }

        .ai-btn.active {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }

        .api-config-btn {
            background: transparent;
            border: 1px solid #60a5fa;
            color: #60a5fa;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
            margin-left: 10px;
        }

        .api-config-btn:hover {
            background: rgba(96, 165, 250, 0.1);
        }

        main {
            flex: 1;
            padding: 30px 0;
            display: flex;
            flex-direction: column;
        }

        .chat-container {
            display: flex;
            flex-direction: column;
            height: 75vh;
            min-height: 500px;
            max-height: calc(100vh - 200px);
            background: rgba(30, 41, 59, 0.7);
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid #334155;
            backdrop-filter: blur(10px);
            margin-bottom: 30px;
            flex-shrink: 0;
        }

        .chat-header {
            padding: 20px;
            background: rgba(15, 23, 42, 0.9);
            border-bottom: 1px solid #334155;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }

        .ai-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .ai-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .chatgpt-icon {
            background: #10a37f;
        }

        .deepseek-icon {
            background: #4f46e5;
        }

        .gemini-icon {
            background: #ea4335;
        }

        .ai-name {
            font-weight: 600;
            font-size: 18px;
        }

        .ai-description {
            color: #94a3b8;
            font-size: 14px;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            min-height: 0;
        }

        .message {
            display: flex;
            gap: 12px;
            max-width: 85%;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-message {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin-top: 5px;
        }

        .user-avatar {
            background: #3b82f6;
        }

        .ai-avatar {
            background: #475569;
        }

        .message-content {
            background: #1e293b;
            padding: 15px;
            border-radius: 16px;
            border: 1px solid #334155;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .user-message .message-content {
            background: #1d4ed8;
            border-color: #3b82f6;
        }

        .message-text {
            color: #f1f5f9;
            line-height: 1.6;
        }

        .message-text a {
            color: #60a5fa;
            text-decoration: none;
        }

        .message-text a:hover {
            text-decoration: underline;
        }

        .message-text pre {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 10px 0;
            border-left: 4px solid #3b82f6;
        }

        .message-text code {
            background: rgba(0, 0, 0, 0.2);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
        }

        .message-text pre code {
            background: none;
            padding: 0;
        }

        .message-time {
            font-size: 12px;
            color: #94a3b8;
            margin-top: 8px;
            text-align: right;
        }

        .chat-input-container {
            padding: 20px;
            background: rgba(15, 23, 42, 0.9);
            border-top: 1px solid #334155;
            flex-shrink: 0;
        }

        .input-wrapper {
            display: flex;
            gap: 10px;
        }

        #userInput {
            flex: 1;
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 12px;
            padding: 15px;
            color: #f1f5f9;
            font-family: 'Poppins', sans-serif;
            font-size: 16px;
            resize: none;
            min-height: 56px;
            max-height: 120px;
        }

        #userInput:focus {
            outline: none;
            border-color: #3b82f6;
        }

        #sendBtn {
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 12px;
            width: 56px;
            height: 56px;
            cursor: pointer;
            font-size: 18px;
            transition: background 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #sendBtn:hover {
            background: #2563eb;
        }

        #sendBtn:disabled {
            background: #475569;
            cursor: not-allowed;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .feature-card {
            background: rgba(30, 41, 59, 0.7);
            border-radius: 12px;
            padding: 25px;
            border: 1px solid #334155;
            transition: transform 0.3s ease, border-color 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            border-color: #3b82f6;
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 15px;
        }

        .feature-card:nth-child(1) .feature-icon {
            background: rgba(16, 163, 127, 0.2);
            color: #10a37f;
        }

        .feature-card:nth-child(2) .feature-icon {
            background: rgba(79, 70, 229, 0.2);
            color: #8b5cf6;
        }

        .feature-card:nth-child(3) .feature-icon {
            background: rgba(234, 67, 53, 0.2);
            color: #ea4335;
        }

        .feature-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .feature-desc {
            color: #94a3b8;
            font-size: 14px;
        }

        footer {
            background: rgba(15, 23, 42, 0.9);
            border-top: 1px solid #334155;
            padding: 20px 0;
            text-align: center;
            color: #94a3b8;
            font-size: 14px;
            flex-shrink: 0;
        }

        .api-key-setup {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 12px;
            padding: 15px;
            margin-top: 20px;
            font-size: 14px;
        }

        .loading {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #94a3b8;
        }

        .loading-dots {
            display: flex;
            gap: 4px;
        }

        .loading-dots span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #3b82f6;
            animation: bounce 1.4s infinite ease-in-out both;
        }

        .loading-dots span:nth-child(1) { animation-delay: -0.32s; }
        .loading-dots span:nth-child(2) { animation-delay: -0.16s; }

        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }

        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 15px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #94a3b8;
            animation: typing 1.5s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.3s; }
        .typing-dot:nth-child(2) { animation-delay: -0.15s; }
        .typing-dot:nth-child(3) { animation-delay: 0s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.95);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: rgba(30, 41, 59, 0.95);
            border: 1px solid #3b82f6;
            border-radius: 16px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            color: #f1f5f9;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .modal-content h2 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: #60a5fa;
        }

        .api-input-group {
            margin: 20px 0;
        }

        .api-input-group label {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .api-input-group input {
            width: 100%;
            padding: 12px;
            background: #1e293b;
            border: 1px solid #475569;
            border-radius: 8px;
            color: white;
            font-family: 'Poppins', sans-serif;
            margin-bottom: 5px;
        }

        .api-input-group .key-status {
            font-size: 12px;
            color: #94a3b8;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .api-input-group .key-status.valid {
            color: #10a37f;
        }

        .api-input-group .key-status.invalid {
            color: #ef4444;
        }

        .api-input-group a {
            display: inline-block;
            margin-top: 5px;
            color: #60a5fa;
            font-size: 14px;
            text-decoration: none;
        }

        .api-input-group a:hover {
            text-decoration: underline;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: 25px;
        }

        .primary-btn {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            flex: 1;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            transition: background 0.3s ease;
        }

        .primary-btn:hover {
            background: #2563eb;
        }

        .secondary-btn {
            background: #475569;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            flex: 1;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            transition: background 0.3s ease;
        }

        .secondary-btn:hover {
            background: #64748b;
        }

        .note {
            margin-top: 15px;
            font-size: 12px;
            color: #94a3b8;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #10a37f;
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 1001;
            animation: slideIn 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .notification.error {
            background: #ef4444;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .api-mode-indicator {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
            color: #94a3b8;
        }

        .api-mode-indicator.active {
            color: #10a37f;
        }

        .api-mode-indicator.inactive {
            color: #ef4444;
        }

        .remember-me {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
            padding: 10px;
            background: rgba(30, 41, 59, 0.5);
            border-radius: 8px;
        }

        .remember-me input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: #3b82f6;
        }

        .remember-me label {
            cursor: pointer;
            user-select: none;
            color: #cbd5e1;
            font-size: 14px;
        }

        .remember-me i {
            color: #60a5fa;
        }

        @media (max-width: 768px) {
            .ai-selector {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .chat-container {
                height: 70vh;
                min-height: 400px;
                max-height: calc(100vh - 180px);
            }
            
            .message {
                max-width: 95%;
            }
            
            .features {
                grid-template-columns: 1fr;
            }
            
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            .api-config-btn {
                margin-left: 0;
                margin-top: 10px;
            }
        }

        @media (max-width: 480px) {
            .chat-container {
                height: 65vh;
                min-height: 350px;
                max-height: calc(100vh - 150px);
                margin-bottom: 20px;
            }
            
            .chat-messages {
                padding: 15px;
            }
            
            .chat-header {
                padding: 15px;
            }
            
            .chat-input-container {
                padding: 15px;
            }
        }

        .credential-status {
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 12px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            margin-left: 10px;
        }

        .credential-status.connected {
            background: rgba(16, 163, 127, 0.2);
            color: #10a37f;
        }

        .credential-status.not-connected {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        .account-info {
            font-size: 12px;
            color: #94a3b8;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <!-- Login Modal -->
    <div id="loginModal" class="modal active">
        <div class="modal-content" style="max-width: 400px;">
            <h2><i class="fas fa-sign-in-alt"></i> AI Assistant Login</h2>
            <p>Enter your credentials to access AI services</p>
            
            <div class="api-input-group">
                <label for="loginEmail">
                    <i class="fas fa-envelope"></i> Email Address
                </label>
                <input type="email" id="loginEmail" placeholder="your@email.com">
            </div>
            
            <div class="api-input-group">
                <label for="loginPassword">
                    <i class="fas fa-lock"></i> Password
                </label>
                <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            </div>
            
            <div class="remember-me">
                <input type="checkbox" id="rememberMe">
                <label for="rememberMe">
                    <i class="fas fa-check-circle"></i> Remember me for 30 days
                </label>
            </div>
            
            <div id="loginError" style="color: #ef4444; font-size: 14px; margin: 10px 0; display: none;">
                <i class="fas fa-exclamation-circle"></i> Invalid email or password
            </div>
            
            <div class="modal-buttons">
                <button id="loginBtn" class="primary-btn">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
            </div>
            
            <p class="note">
                <i class="fas fa-info-circle"></i> 
                This system uses YOUR personal AI accounts to get real responses.
            </p>
        </div>
    </div>

    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-robot"></i>
                    <span id="siteTitle">Your AI Assistant</span>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="ai-selector">
                        <button class="ai-btn active" data-ai="auto">
                            <i class="fas fa-magic"></i> Auto Select
                        </button>
                        <button class="ai-btn" data-ai="chatgpt">
                            <i class="fas fa-comment"></i> ChatGPT
                        </button>
                        <button class="ai-btn" data-ai="deepseek">
                            <i class="fas fa-code"></i> DeepSeek
                        </button>
                        <button class="ai-btn" data-ai="gemini">
                            <i class="fas fa-image"></i> Gemini
                        </button>
                    </div>
                    <button id="setupCredentials" class="api-config-btn" style="display: none;">
                        <i class="fas fa-cog"></i> Setup Credentials
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
        <div class="chat-container">
            <div class="chat-header">
                <div class="ai-info">
                    <div class="ai-icon chatgpt-icon">
                        <i class="fas fa-magic"></i>
                    </div>
                    <div>
                        <div class="ai-name">Auto AI Selector</div>
                        <div class="ai-description">Uses YOUR personal AI accounts</div>
                        <div class="account-info" id="accountInfo">Not logged in</div>
                    </div>
                </div>
                <div class="loading" id="statusIndicator">
                    <i class="fas fa-circle" style="color: #ef4444;"></i>
                    <span id="statusText">Waiting for login</span>
                    <span id="apiMode" class="api-mode-indicator inactive">
                        <i class="fas fa-plug"></i> Credentials Needed
                    </span>
                </div>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <div class="message">
                    <div class="avatar ai-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="message-content">
                        <div class="message-text">
                            <strong>üöÄ Welcome to Your Personal AI Assistant!</strong><br><br>
                            This system uses <strong>YOUR personal AI accounts</strong> to get real answers.<br><br>
                            <strong>How it works:</strong><br>
                            1. Login with your credentials<br>
                            2. Ask any question<br>
                            3. System detects which AI to use<br>
                            4. Logs into YOUR account automatically<br>
                            5. Gets real answer from YOUR AI<br>
                            6. Shows response here<br><br>
                            
                            <strong>Supported AI:</strong><br>
                            ‚Ä¢ <strong>ChatGPT</strong> - Writing, creative tasks, general knowledge<br>
                            ‚Ä¢ <strong>DeepSeek</strong> - Coding, math, technical problems<br>
                            ‚Ä¢ <strong>Gemini</strong> - Images, visual analysis, creative content<br><br>
                            
                            <em>Your credentials are stored securely and only used to access your accounts.</em>
                        </div>
                        <div class="message-time">Just now</div>
                    </div>
                </div>
            </div>
            
            <div class="chat-input-container">
                <div class="input-wrapper">
                    <textarea id="userInput" placeholder="Please login to use AI assistant..." rows="1" disabled></textarea>
                    <button id="sendBtn" disabled>
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                <div class="api-key-setup">
                    <strong><i class="fas fa-user-circle"></i> Status:</strong> 
                    <span id="apiStatusText">Login required to use YOUR AI accounts</span>
                    <button id="quickLogin" style="margin-left: 10px; padding: 4px 8px; background: transparent; border: 1px solid #60a5fa; color: #60a5fa; border-radius: 4px; cursor: pointer;">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                    <button id="testConnection" style="margin-left: 10px; padding: 4px 8px; background: transparent; border: 1px solid #10a37f; color: #10a37f; border-radius: 4px; cursor: pointer;">
                        <i class="fas fa-plug"></i> Test Connection
                    </button>
                </div>
            </div>
        </div>
        
        <div class="features">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-comment-dots"></i>
                </div>
                <h3 class="feature-title">ChatGPT (Your Account)</h3>
                <p class="feature-desc">Uses YOUR ChatGPT account for real responses. Best for writing, creative tasks, brainstorming, and general conversation. The system automatically logs into your account to get answers.</p>
                <div class="credential-status not-connected" id="chatgptStatus">
                    <i class="fas fa-times-circle"></i> Not configured
                </div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-code"></i>
                </div>
                <h3 class="feature-title">DeepSeek (Your Account)</h3>
                <p class="feature-desc">Uses YOUR DeepSeek account for coding assistance. Specialized for programming, mathematics, technical problem-solving, and logical reasoning. Automatically accesses your account for responses.</p>
                <div class="credential-status not-connected" id="deepseekStatus">
                    <i class="fas fa-times-circle"></i> Not configured
                </div>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-image"></i>
                </div>
                <h3 class="feature-title">Gemini (Your Account)</h3>
                <p class="feature-desc">Uses YOUR Gemini/Google account. Optimized for image analysis, multimodal tasks, visual understanding, and creative content. Logs into your Google account to provide responses.</p>
                <div class="credential-status not-connected" id="geminiStatus">
                    <i class="fas fa-times-circle"></i> Not configured
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <p>Your Personal AI Assistant | Uses YOUR ChatGPT, DeepSeek & Gemini Accounts</p>
            <p style="font-size: 12px; margin-top: 5px;">
                <i class="fas fa-user-shield"></i> Your credentials are encrypted and stored securely
            </p>
        </div>
    </footer>

    <!-- Setup Credentials Modal -->
    <div id="setupModal" class="modal">
        <div class="modal-content">
            <h2><i class="fas fa-key"></i> Setup Your AI Credentials</h2>
            <p>Add your login credentials for each AI service</p>
            
            <div class="api-input-group">
                <label for="chatgptEmail">
                    <i class="fas fa-comment" style="color: #10a37f;"></i> ChatGPT Email
                </label>
                <input type="email" id="chatgptEmail" placeholder="your-chatgpt-email@gmail.com">
                <div class="key-status">
                    <i class="fas fa-info-circle"></i> Your ChatGPT login email
                </div>
            </div>
            
            <div class="api-input-group">
                <label for="chatgptPassword">
                    <i class="fas fa-comment" style="color: #10a37f;"></i> ChatGPT Password
                </label>
                <input type="password" id="chatgptPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            </div>
            
            <div class="api-input-group">
                <label for="deepseekEmail">
                    <i class="fas fa-code" style="color: #4f46e5;"></i> DeepSeek Email
                </label>
                <input type="email" id="deepseekEmail" placeholder="your-deepseek-email@gmail.com">
            </div>
            
            <div class="api-input-group">
                <label for="deepseekPassword">
                    <i class="fas fa-code" style="color: #4f46e5;"></i> DeepSeek Password
                </label>
                <input type="password" id="deepseekPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            </div>
            
            <div class="api-input-group">
                <label for="geminiEmail">
                    <i class="fas fa-image" style="color: #ea4335;"></i> Gemini/Google Email
                </label>
                <input type="email" id="geminiEmail" placeholder="your-google-email@gmail.com">
            </div>
            
            <div class="api-input-group">
                <label for="geminiPassword">
                    <i class="fas fa-image" style="color: #ea4335;"></i> Gemini/Google Password
                </label>
                <input type="password" id="geminiPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            </div>
            
            <div class="note">
                <i class="fas fa-shield-alt"></i> 
                Credentials are encrypted and stored in your browser only
            </div>
            
            <div class="modal-buttons">
                <button id="saveCredentials" class="primary-btn">
                    <i class="fas fa-save"></i> Save Credentials
                </button>
                <button id="cancelSetup" class="secondary-btn">
                    <i class="fas fa-times"></i> Cancel
                </button>
            </div>
        </div>
    </div>

    <script>
        // ========== CONFIGURATION ==========
        const ADMIN_EMAIL = "imulla311@gmail.com";
        const ADMIN_PASSWORD = "Imulla@311";
        const REMEMBER_DAYS = 30;
        
        // API Endpoints
        const API_ENDPOINTS = {
            chat: '/api/chat',
            status: '/api/status',
            setup: '/api/setup'
        };
        
        // ========== APP STATE ==========
        let isAdmin = false;
        let isLoggedIn = false;
        let selectedAI = 'auto';
        let isProcessing = false;
        let currentUserEmail = '';
        let userCredentials = {};
        
        // ========== DOM ELEMENTS ==========
        const chatMessages = document.getElementById('chatMessages');
        const userInput = document.getElementById('userInput');
        const sendBtn = document.getElementById('sendBtn');
        const aiButtons = document.querySelectorAll('.ai-btn');
        const statusText = document.getElementById('statusText');
        const apiStatusText = document.getElementById('apiStatusText');
        const loginModal = document.getElementById('loginModal');
        const setupModal = document.getElementById('setupModal');
        const loginEmail = document.getElementById('loginEmail');
        const loginPassword = document.getElementById('loginPassword');
        const loginBtn = document.getElementById('loginBtn');
        const loginError = document.getElementById('loginError');
        const quickLoginBtn = document.getElementById('quickLogin');
        const setupCredentialsBtn = document.getElementById('setupCredentials');
        const testConnectionBtn = document.getElementById('testConnection');
        const accountInfo = document.getElementById('accountInfo');
        
        // Credential inputs
        const chatgptEmail = document.getElementById('chatgptEmail');
        const chatgptPassword = document.getElementById('chatgptPassword');
        const deepseekEmail = document.getElementById('deepseekEmail');
        const deepseekPassword = document.getElementById('deepseekPassword');
        const geminiEmail = document.getElementById('geminiEmail');
        const geminiPassword = document.getElementById('geminiPassword');
        const saveCredentialsBtn = document.getElementById('saveCredentials');
        const cancelSetupBtn = document.getElementById('cancelSetup');
        
        // Status indicators
        const chatgptStatus = document.getElementById('chatgptStatus');
        const deepseekStatus = document.getElementById('deepseekStatus');
        const geminiStatus = document.getElementById('geminiStatus');
        
        // ========== INITIALIZATION ==========
        document.addEventListener('DOMContentLoaded', () => {
            console.log("ü§ñ Your Personal AI Assistant Initialized");
            
            // Setup event listeners
            setupEventListeners();
            
            // Check if already logged in
            checkExistingLogin();
            
            // Load saved credentials
            loadSavedCredentials();
            
            // Check connection status
            checkConnectionStatus();
            
            // Auto-resize textarea
            userInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = this.scrollHeight + 'px';
            });
        });
        
        // ========== SETUP EVENT LISTENERS ==========
        function setupEventListeners() {
            // Send message
            sendBtn.addEventListener('click', sendMessage);
            userInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && !e.shiftKey && !isProcessing) {
                    e.preventDefault();
                    sendMessage();
                }
            });
            
            // AI selection
            aiButtons.forEach(button => {
                button.addEventListener('click', function() {
                    if (!isLoggedIn) {
                        showNotification('Please login first', 'error');
                        loginModal.classList.add('active');
                        return;
                    }
                    aiButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    selectedAI = this.dataset.ai;
                    updateAIInfo(selectedAI);
                    showNotification(`Selected: ${getAIName(selectedAI)}`, 'info');
                });
            });
            
            // Login
            loginBtn.addEventListener('click', handleLogin);
            loginPassword.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    handleLogin();
                }
            });
            
            // Quick login button
            quickLoginBtn.addEventListener('click', () => {
                loginModal.classList.add('active');
            });
            
            // Setup credentials button
            setupCredentialsBtn.addEventListener('click', () => {
                setupModal.classList.add('active');
                loadCredentialsIntoForm();
            });
            
            // Test connection button
            testConnectionBtn.addEventListener('click', testAllConnections);
            
            // Save credentials
            saveCredentialsBtn.addEventListener('click', saveCredentials);
            cancelSetupBtn.addEventListener('click', () => {
                setupModal.classList.remove('active');
            });
        }
        
        // ========== LOGIN HANDLING ==========
        function handleLogin() {
            const email = loginEmail.value.trim();
            const password = loginPassword.value.trim();
            
            if (!email || !password) {
                loginError.textContent = 'Please enter email and password';
                loginError.style.display = 'block';
                return;
            }
            
            if (email === ADMIN_EMAIL && password === ADMIN_PASSWORD) {
                handleSuccessfulLogin(email, true);
            } else if (email && password) {
                handleSuccessfulLogin(email, false);
            } else {
                loginError.textContent = 'Invalid credentials';
                loginError.style.display = 'block';
            }
        }
        
        function handleSuccessfulLogin(email, isAdminUser) {
            currentUserEmail = email;
            isAdmin = isAdminUser;
            isLoggedIn = true;
            loginError.style.display = 'none';
            loginModal.classList.remove('active');
            
            // Save to localStorage
            localStorage.setItem('ai_user', JSON.stringify({
                email: email,
                isAdmin: isAdminUser,
                timestamp: new Date().getTime()
            }));
            
            updateUIForLoggedInUser(isAdminUser);
            showNotification(isAdminUser ? 'Admin login successful!' : `Welcome ${email}!`, 'success');
            
            // Add welcome message
            const welcomeMsg = `‚úÖ Logged in as ${email}\n\nI will now use YOUR AI accounts to get real answers.\n\nüìù To setup your AI credentials, click "Setup Credentials" button.`;
            addMessage(welcomeMsg, 'ai', 'system');
        }
        
        function checkExistingLogin() {
            const saved = localStorage.getItem('ai_user');
            if (saved) {
                try {
                    const data = JSON.parse(saved);
                    currentUserEmail = data.email;
                    isAdmin = data.isAdmin || false;
                    isLoggedIn = true;
                    loginModal.classList.remove('active');
                    updateUIForLoggedInUser(isAdmin);
                    
                    const welcomeMsg = `Welcome back ${data.email}! Ready to use your AI accounts.`;
                    addMessage(welcomeMsg, 'ai', 'system');
                } catch (e) {
                    console.error('Error loading saved login:', e);
                }
            }
        }
        
        // ========== CREDENTIALS MANAGEMENT ==========
        function loadSavedCredentials() {
            const saved = localStorage.getItem('ai_credentials');
            if (saved) {
                try {
                    userCredentials = JSON.parse(saved);
                    updateCredentialStatus();
                    console.log('Loaded saved credentials');
                } catch (e) {
                    console.error('Error loading credentials:', e);
                }
            }
        }
        
        function saveCredentials() {
            const credentials = {
                chatgpt: {
                    email: chatgptEmail.value.trim(),
                    password: chatgptPassword.value.trim()
                },
                deepseek: {
                    email: deepseekEmail.value.trim(),
                    password: deepseekPassword.value.trim()
                },
                gemini: {
                    email: geminiEmail.value.trim(),
                    password: geminiPassword.value.trim()
                },
                savedAt: new Date().getTime()
            };
            
            // Basic validation
            let hasAtLeastOne = false;
            if (credentials.chatgpt.email && credentials.chatgpt.password) hasAtLeastOne = true;
            if (credentials.deepseek.email && credentials.deepseek.password) hasAtLeastOne = true;
            if (credentials.gemini.email && credentials.gemini.password) hasAtLeastOne = true;
            
            if (!hasAtLeastOne) {
                showNotification('Please enter at least one set of credentials', 'error');
                return;
            }
            
            // Save to localStorage
            localStorage.setItem('ai_credentials', JSON.stringify(credentials));
            userCredentials = credentials;
            
            // Update UI
            updateCredentialStatus();
            setupModal.classList.remove('active');
            
            showNotification('Credentials saved successfully!', 'success');
            
            // Test connections
            testAllConnections();
        }
        
        function loadCredentialsIntoForm() {
            if (userCredentials.chatgpt) {
                chatgptEmail.value = userCredentials.chatgpt.email || '';
                chatgptPassword.value = userCredentials.chatgpt.password || '';
            }
            if (userCredentials.deepseek) {
                deepseekEmail.value = userCredentials.deepseek.email || '';
                deepseekPassword.value = userCredentials.deepseek.password || '';
            }
            if (userCredentials.gemini) {
                geminiEmail.value = userCredentials.gemini.email || '';
                geminiPassword.value = userCredentials.gemini.password || '';
            }
        }
        
        function updateCredentialStatus() {
            // Update ChatGPT status
            if (userCredentials.chatgpt && userCredentials.chatgpt.email && userCredentials.chatgpt.password) {
                chatgptStatus.className = 'credential-status connected';
                chatgptStatus.innerHTML = `<i class="fas fa-check-circle"></i> Configured: ${userCredentials.chatgpt.email.substring(0, 3)}***@***`;
            } else {
                chatgptStatus.className = 'credential-status not-connected';
                chatgptStatus.innerHTML = '<i class="fas fa-times-circle"></i> Not configured';
            }
            
            // Update DeepSeek status
            if (userCredentials.deepseek && userCredentials.deepseek.email && userCredentials.deepseek.password) {
                deepseekStatus.className = 'credential-status connected';
                deepseekStatus.innerHTML = `<i class="fas fa-check-circle"></i> Configured: ${userCredentials.deepseek.email.substring(0, 3)}***@***`;
            } else {
                deepseekStatus.className = 'credential-status not-connected';
                deepseekStatus.innerHTML = '<i class="fas fa-times-circle"></i> Not configured';
            }
            
            // Update Gemini status
            if (userCredentials.gemini && userCredentials.gemini.email && userCredentials.gemini.password) {
                geminiStatus.className = 'credential-status connected';
                geminiStatus.innerHTML = `<i class="fas fa-check-circle"></i> Configured: ${userCredentials.gemini.email.substring(0, 3)}***@***`;
            } else {
                geminiStatus.className = 'credential-status not-connected';
                geminiStatus.innerHTML = '<i class="fas fa-times-circle"></i> Not configured';
            }
            
            // Update account info
            const configuredCount = [
                userCredentials.chatgpt,
                userCredentials.deepseek, 
                userCredentials.gemini
            ].filter(c => c && c.email && c.password).length;
            
            accountInfo.textContent = `${configuredCount} of 3 AI accounts configured`;
        }
        
        // ========== CONNECTION TESTING ==========
        async function testAllConnections() {
            if (!isLoggedIn) {
                showNotification('Please login first', 'error');
                loginModal.classList.add('active');
                return;
            }
            
            showNotification('Testing AI connections...', 'info');
            updateStatus('processing', 'Testing connections');
            
            // Test each configured AI
            const tests = [];
            
            if (userCredentials.chatgpt && userCredentials.chatgpt.email) {
                tests.push(testAIConnection('chatgpt', 'ChatGPT'));
            }
            
            if (userCredentials.deepseek && userCredentials.deepseek.email) {
                tests.push(testAIConnection('deepseek', 'DeepSeek'));
            }
            
            if (userCredentials.gemini && userCredentials.gemini.email) {
                tests.push(testAIConnection('gemini', 'Gemini'));
            }
            
            if (tests.length === 0) {
                showNotification('No credentials configured. Please setup credentials first.', 'error');
                updateStatus('ready', 'Ready');
                return;
            }
            
            try {
                await Promise.all(tests);
                showNotification('Connection tests completed', 'success');
            } catch (error) {
                console.error('Connection tests failed:', error);
            } finally {
                updateStatus('ready', 'Ready');
            }
        }
        
        async function testAIConnection(aiType, aiName) {
            try {
                const response = await fetch(API_ENDPOINTS.chat, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        message: `Test connection to ${aiName}`,
                        ai: aiType,
                        test: true
                    })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    console.log(`‚úÖ ${aiName} connection test passed`);
                    return true;
                } else {
                    console.log(`‚ùå ${aiName} connection test failed: ${data.error}`);
                    return false;
                }
            } catch (error) {
                console.error(`‚ùå ${aiName} connection error:`, error);
                return false;
            }
        }
        
        function checkConnectionStatus() {
            const hasCredentials = userCredentials && (
                (userCredentials.chatgpt && userCredentials.chatgpt.email) ||
                (userCredentials.deepseek && userCredentials.deepseek.email) ||
                (userCredentials.gemini && userCredentials.gemini.email)
            );
            
            if (hasCredentials) {
                apiStatusText.innerHTML = `<span style="color:#10a37f">‚úÖ Credentials configured</span>`;
            } else {
                apiStatusText.innerHTML = `<span style="color:#ef4444">‚ö†Ô∏è No credentials setup</span>`;
            }
        }
        
        // ========== MESSAGE HANDLING ==========
        async function sendMessage() {
            if (!isLoggedIn) {
                showNotification('Please login first', 'error');
                loginModal.classList.add('active');
                return;
            }
            
            // Check if credentials are configured
            const hasCredentials = userCredentials && (
                (userCredentials.chatgpt && userCredentials.chatgpt.email) ||
                (userCredentials.deepseek && userCredentials.deepseek.email) ||
                (userCredentials.gemini && userCredentials.gemini.email)
            );
            
            if (!hasCredentials) {
                showNotification('Please setup your AI credentials first', 'error');
                setupModal.classList.add('active');
                return;
            }
            
            const message = userInput.value.trim();
            if (!message || isProcessing) return;
            
            // Add user message
            addMessage(message, 'user');
            
            // Clear input
            userInput.value = '';
            userInput.style.height = 'auto';
            
            // Determine AI to use
            const aiToUse = selectedAI === 'auto' ? determineAI(message) : selectedAI;
            
            // Check if credentials exist for this AI
            if (aiToUse !== 'auto') {
                const creds = userCredentials[aiToUse];
                if (!creds || !creds.email || !creds.password) {
                    addMessage(`‚ö†Ô∏è No credentials configured for ${getAIName(aiToUse)}. Please setup credentials in the settings.`, 'ai', 'system');
                    showNotification(`No credentials for ${getAIName(aiToUse)}`, 'error');
                    return;
                }
            }
            
            // Show typing indicator
            showTypingIndicator(aiToUse);
            
            // Set processing state
            isProcessing = true;
            sendBtn.disabled = true;
            updateStatus('processing', `Connecting to ${getAIName(aiToUse)}...`);
            
            try {
                // Call backend API
                const response = await callBackendAPI(message, aiToUse);
                
                removeTypingIndicator();
                addMessage(response, 'ai', aiToUse);
                updateStatus('ready', 'Ready');
                showNotification(`Response from ${getAIName(aiToUse)} received`, 'success');
                
            } catch (error) {
                console.error('API Error:', error);
                removeTypingIndicator();
                
                let errorMessage = '';
                if (error.message.includes('401') || error.message.includes('credentials')) {
                    errorMessage = `‚ùå Login failed for ${getAIName(aiToUse)}. Please check your credentials.\n\nError: ${error.message}`;
                } else if (error.message.includes('429')) {
                    errorMessage = '‚è≥ Rate limit exceeded. Please wait a moment before trying again.';
                } else if (error.message.includes('Network')) {
                    errorMessage = 'üåê Network error. Please check your internet connection.';
                } else {
                    errorMessage = `‚ö†Ô∏è Error: ${error.message}`;
                }
                
                addMessage(errorMessage, 'ai', aiToUse);
                updateStatus('error', 'Connection Error');
                showNotification('Failed to get response', 'error');
                
            } finally {
                isProcessing = false;
                sendBtn.disabled = false;
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }
        
        // ========== BACKEND API CALL ==========
        async function callBackendAPI(message, aiType) {
            console.log(`üì§ Sending to ${aiType}: ${message.substring(0, 50)}...`);
            
            const response = await fetch(API_ENDPOINTS.chat, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    message: message,
                    ai: aiType,
                    user: currentUserEmail,
                    credentials: userCredentials[aiType] || null
                })
            });
            
            const data = await response.json();
            
            if (!response.ok) {
                throw new Error(data.error || `HTTP ${response.status}`);
            }
            
            if (!data.success) {
                throw new Error(data.error || 'API error');
            }
            
            return data.response;
        }
        
        // ========== AI DETECTION LOGIC ==========
        function determineAI(query) {
            const lowerQuery = query.toLowerCase();
            
            // Coding/Technical queries ‚Üí DeepSeek
            if (/code|program|function|algorithm|debug|javascript|python|html|css|java|c\+\+|sql|database|api|git|terminal|error|bug|fix|compile|syntax/i.test(lowerQuery)) {
                return 'deepseek';
            }
            
            // Math queries ‚Üí DeepSeek
            if (/math|calculate|equation|formula|statistic|probability|algebra|calculus|geometry|trigonometry|solve.*problem/i.test(lowerQuery)) {
                return 'deepseek';
            }
            
            // Image/Visual queries ‚Üí Gemini
            if (/image|picture|photo|visual|draw|paint|sketch|generate.*image|describe.*image|analyze.*image|vision|look.*like|design|graphic/i.test(lowerQuery)) {
                return 'gemini';
            }
            
            // Writing queries ‚Üí ChatGPT
            if (/write|essay|story|poem|creative|article|blog|email|letter|content|brainstorm|paraphrase|rewrite|translate|summary|report/i.test(lowerQuery)) {
                return 'chatgpt';
            }
            
            // Default to ChatGPT if credentials exist, else check what's available
            if (userCredentials.chatgpt && userCredentials.chatgpt.email) {
                return 'chatgpt';
            } else if (userCredentials.deepseek && userCredentials.deepseek.email) {
                return 'deepseek';
            } else if (userCredentials.gemini && userCredentials.gemini.email) {
                return 'gemini';
            }
            
            return 'chatgpt';
        }
        
        function getAIName(aiType) {
            const names = {
                chatgpt: 'ChatGPT',
                deepseek: 'DeepSeek',
                gemini: 'Gemini',
                auto: 'Auto Select'
            };
            return names[aiType] || aiType;
        }
        
        // ========== UI UPDATES ==========
        function updateUIForLoggedInUser(isAdminUser) {
            userInput.disabled = false;
            userInput.placeholder = "Ask anything... I'll use YOUR AI accounts to answer (Shift+Enter for new line)";
            sendBtn.disabled = false;
            
            statusText.textContent = 'Ready';
            statusIndicator.querySelector('i').style.color = '#10a37f';
            
            setupCredentialsBtn.style.display = 'block';
            
            if (isAdminUser) {
                document.getElementById('siteTitle').textContent = 'Your AI Assistant (Admin)';
                apiStatusText.innerHTML = 'üõ°Ô∏è <strong>Admin Mode</strong> - Full access';
                accountInfo.textContent = 'Admin account';
            } else {
                document.getElementById('siteTitle').textContent = 'Your AI Assistant';
                apiStatusText.innerHTML = 'üë§ <strong>User Mode</strong> - Your AI accounts';
                accountInfo.textContent = `Logged in as ${currentUserEmail}`;
            }
        }
        
        function updateAIInfo(ai) {
            const aiName = document.querySelector('.ai-name');
            const aiIcon = document.querySelector('.ai-icon');
            const aiDesc = document.querySelector('.ai-description');
            
            switch(ai) {
                case 'chatgpt':
                    aiName.textContent = 'ChatGPT (Your Account)';
                    aiIcon.className = 'ai-icon chatgpt-icon';
                    aiIcon.innerHTML = '<i class="fas fa-comment"></i>';
                    aiDesc.textContent = 'Using YOUR ChatGPT account';
                    break;
                case 'deepseek':
                    aiName.textContent = 'DeepSeek (Your Account)';
                    aiIcon.className = 'ai-icon deepseek-icon';
                    aiIcon.innerHTML = '<i class="fas fa-code"></i>';
                    aiDesc.textContent = 'Using YOUR DeepSeek account';
                    break;
                case 'gemini':
                    aiName.textContent = 'Gemini (Your Account)';
                    aiIcon.className = 'ai-icon gemini-icon';
                    aiIcon.innerHTML = '<i class="fas fa-image"></i>';
                    aiDesc.textContent = 'Using YOUR Gemini account';
                    break;
                default:
                    aiName.textContent = 'Auto AI Selector';
                    aiIcon.className = 'ai-icon chatgpt-icon';
                    aiIcon.innerHTML = '<i class="fas fa-magic"></i>';
                    aiDesc.textContent = 'Automatically selects best AI';
            }
        }
        
        // ========== MESSAGE DISPLAY ==========
        function addMessage(text, sender, aiUsed = null) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            
            const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            let avatarIcon = sender === 'user' 
                ? '<i class="fas fa-user"></i>' 
                : aiUsed === 'deepseek' 
                    ? '<i class="fas fa-code"></i>'
                    : aiUsed === 'gemini'
                        ? '<i class="fas fa-image"></i>'
                        : aiUsed === 'system'
                            ? '<i class="fas fa-info-circle"></i>'
                            : '<i class="fas fa-robot"></i>';
            
            let avatarClass = sender === 'user' ? 'user-avatar' : 'ai-avatar';
            if (aiUsed === 'system') avatarClass = 'ai-avatar';
            
            messageDiv.innerHTML = `
                <div class="avatar ${avatarClass}">
                    ${avatarIcon}
                </div>
                <div class="message-content">
                    <div class="message-text">${formatMessage(text)}</div>
                    <div class="message-time">${time} ${aiUsed && sender === 'ai' ? `‚Ä¢ ${getAIName(aiUsed)}` : ''}</div>
                </div>
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function formatMessage(text) {
            if (!text) return '';
            
            let formattedText = text
                .replace(/```(\w+)?\n([\s\S]*?)```/g, 
                    '<pre><code class="language-$1">$2</code></pre>')
                .replace(/`([^`]+)`/g, 
                    '<code>$1</code>')
                .replace(/\n/g, '<br>');
            
            formattedText = formattedText.replace(
                /(https?:\/\/[^\s<]+[^\s<.,:;!?)])/g, 
                '<a href="$1" target="_blank" rel="noopener">$1</a>'
            );
            
            return formattedText;
        }
        
        function showTypingIndicator(ai) {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message';
            typingDiv.id = 'typingIndicator';
            
            let avatarIcon = ai === 'deepseek' 
                ? '<i class="fas fa-code"></i>'
                : ai === 'gemini'
                    ? '<i class="fas fa-image"></i>'
                    : '<i class="fas fa-robot"></i>';
            
            typingDiv.innerHTML = `
                <div class="avatar ai-avatar">
                    ${avatarIcon}
                </div>
                <div class="message-content">
                    <div class="typing-indicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                    <div class="message-time" style="margin-top: 10px; font-size: 11px;">
                        <i class="fas fa-sign-in-alt"></i> Logging into your ${getAIName(ai)} account...
                    </div>
                </div>
            `;
            
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }
        
        function updateStatus(status, text) {
            const icon = statusIndicator.querySelector('i');
            statusText.textContent = text;
            
            switch(status) {
                case 'processing':
                    icon.style.color = '#f59e0b';
                    break;
                case 'ready':
                    icon.style.color = '#10a37f';
                    break;
                case 'error':
                    icon.style.color = '#ef4444';
                    break;
            }
        }
        
        function showNotification(message, type = 'info') {
            const existing = document.querySelector('.notification');
            if (existing) existing.remove();
            
            const notification = document.createElement('div');
            notification.className = `notification ${type === 'error' ? 'error' : ''}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'error' ? 'exclamation-circle' : type === 'success' ? 'check-circle' : 'info-circle'}"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
    </script>
</body>
</html>
